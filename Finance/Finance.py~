## Finance.py


__all__ = ["Stocks"]

import urllib
import re


class Stocks:
    
    def __init__(self):
        return
        
    def GetQuote(self, symbols, site='yahoo'):
        if site=='yahoo':
            N = len(symbols)
            quotes = [None]*N
            for i, name in enumerate(symbols):
                htmlfile = urllib.request.urlopen("http://finance.yahoo.com/q?s=%s" % name)
                htmltext = htmlfile.read().decode('utf-8')
                regex = '<span id="yfs_l84_%s">(.+?)<\/span>' % name
                pattern = re.compile(regex)
                price = re.findall(pattern, htmltext)
                quotes[i] = price[0]
            return quotes
